# BkEmu-Android

![Bk0010-01-sideview](https://upload.wikimedia.org/wikipedia/commons/thumb/8/89/Bk0010-01-sideview.jpg/320px-Bk0010-01-sideview.jpg)

[English version](README_en.md)

Данный репозиторий содержит исходные тексты приложения BkEmu - эмулятора семейства
PDP-11-совместимых советских 16-разрядных домашних компьютеров
[Электроника БК-0010/11М](https://ru.wikipedia.org/wiki/БК-0010) для платформы Android.

<a href="https://play.google.com/store/apps/details?id=su.comp.bk">
  <img alt="Доступно в Google Play" src="https://play.google.com/intl/ru/badges/images/generic/ru_badge_web_generic.png" height="80">
</a>

# Эмулируемые функции

На данный момент поддерживается эмуляция:

 * **БК-0010-01**:
   * без внешних блоков (Бейсик Вильнюс)
   * с блоком МСТД (Фокал + тесты)
   * c блоком КНГМД с ДОЗУ 16КБ
 * **БК-0011М** с блоком МСТД или блоком КНГМД

Из аппаратной части эмулируются:

 * Процессор К1801ВМ1 (основной набор команд, за исключением специфичных для HALT-режима)
 * Видеоконтроллер К1801ВП1-037 (цветной и ч/б режимы, экранные палитры)
 * Контроллер клавиатуры К1801ВП1-014
 * Встроенный таймер К1801ВЕ1
 * Аудиовыход (PCM, бит 6 в регистре 0177716)
 * Системный таймер 11М (прерывание 50 Гц по вектору 100, бит 14 в регистре 0177662)
 * Страничная память 11М (биты 8-10, 12-14 в регистре 0177716)
 * Стандартный шестикнопочный джойстик на порту УП
 * Контроллер накопителя на гибких магнитных дисках К1801ВП1-128 (КНГМД,
 в режиме "только для чтения")
 * Звуковой 8-битный ЦАП Covox (монофонический)
 * Музыкальный сопроцессор AY-3-8910

## Поддерживаемые форматы

Эмулятор поддерживает загрузку и сохранение образов программ в формате КУВТ-86 (.BIN) методом перехвата
прерывания `EMT 36` на БК-0010 или системного вызова `.BMB10` на БК-0011М, а также монтирование
образов гибких магнитных дисков в формате .IMG/.BKD (800 КБ).

## Сборка эмулятора

Проект использует систему сборки [Gradle](https://gradle.org/).

Исходные тексты проекта можно получить командой:

```
git clone https://github.com/3cky/bkemu-android.git
```

Также исходные тексты доступны в виде [архива](https://github.com/3cky/bkemu-android/archive/master.zip).

После этого импортируйте проект в [Android Studio](https://developer.android.com/studio/) (опция "Import Project"),
указав директорию с загруженными исходными текстами.

Также можно собрать проект в консоли командой `./gradlew build`.

## Участие в разработке

Вы можете предлагать свои исправления и дополнения эмулятора, используя стандартные механизмы
GitHub fork и [pull requests](https://github.com/github/android/pulls).

## Контакты

Вопросы и пожелания, касающиеся работы эмулятора, направляйте по адресу:
<v.antonovich@gmail.com>.

# Лицензия

* [GNU General Public License v.3.0](https://www.gnu.org/licenses/gpl-3.0.html)
